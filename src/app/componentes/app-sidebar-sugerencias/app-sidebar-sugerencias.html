<div class="rounded-xl shadow-sm border p-4" [ngClass]="cardBg">
  <h3 class="font-bold mb-3 flex items-center gap-2" [ngClass]="textPrimaryClass">
    <i class="fas fa-user-plus"></i>
    Sugerencias
  </h3>
  
  <!-- LOADING STATE -->
  <div *ngIf="isLoading" class="text-center py-6">
    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"></div>
    <p class="text-xs mt-2" [ngClass]="textSecondaryClass">Cargando sugerencias...</p>
  </div>

  <!-- LISTA DE SUGERENCIAS -->
  <div *ngIf="!isLoading && usuarios.length > 0" class="space-y-3">
    <div *ngFor="let usuario of usuarios"
         class="flex items-start gap-3 p-2 rounded-lg transition"
         [ngClass]="hoverBackground">
      
      <!-- AVATAR CLICKEABLE -->
      <div (click)="irAPerfil(usuario.id)" class="cursor-pointer">
        <div *ngIf="usuario.foto_perfil_url; else inicialesSugerido"
             class="w-10 h-10 rounded-full bg-cover bg-center flex-shrink-0 hover:opacity-80 transition"
             [ngStyle]="{'background-image': 'url(' + usuario.foto_perfil_url + ')'}">
        </div>
        <ng-template #inicialesSugerido>
          <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0 hover:opacity-80 transition"
               [style.background]="generarColorAvatar(usuario.id)">
            {{ obtenerIniciales(usuario.nombre_completo) }}
          </div>
        </ng-template>
      </div>

      <!-- INFO USUARIO CLICKEABLE -->
      <div (click)="irAPerfil(usuario.id)" class="flex-1 min-w-0 cursor-pointer hover:opacity-80 transition">
        <p class="font-semibold text-sm truncate" [ngClass]="textPrimaryClass">
          {{ usuario.nombre_completo }}
        </p>
        <p class="text-xs truncate" [ngClass]="textSecondaryClass">
          {{ usuario.razon }}
        </p>
      </div>

      <!-- BOTÓN SEGUIR -->
      <button (click)="onSeguirUsuario(usuario.id)"
              class="text-xs font-semibold px-3 py-1 rounded-full transition flex-shrink-0"
              [ngClass]="accentBg + ' text-white hover:opacity-90'">
        Seguir
      </button>
    </div>
  </div>

  <!-- ESTADO VACÍO -->
  <div *ngIf="!isLoading && usuarios.length === 0" class="text-center py-6">
    <i class="fas fa-users text-3xl mb-2" [ngClass]="textSecondaryClass"></i>
    <p class="text-sm" [ngClass]="textSecondaryClass">
      No hay sugerencias
    </p>
    <p class="text-xs mt-1" [ngClass]="textSecondaryClass">
      Sigue a más personas para ver sugerencias
    </p>
  </div>
</div>